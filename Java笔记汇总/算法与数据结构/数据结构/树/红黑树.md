红黑树是一种自平衡的二叉搜索树，它通过一系列规则和旋转操作保证树的平衡，从而在最坏的情况下也能保持对数级别的搜索、插入和删除时间复杂度。在红黑树中，每个节点不仅存储键值，还有一个颜色属性，该属性可以是红色或黑色。红色节点和黑色节点的区别及其代表的意义主要体现在红黑树维持平衡和提供性能保证的规则中。

# 红色节点和黑色节点的区别

1. **颜色的含义**：
    - **红色节点**：在红黑树中，红色节点通常用来表示两个黑色节点之间的"弱"连接，意味着这两个节点可以被视为一个整体，有助于红黑树保持其平衡性质。
    - **黑色节点**：黑色节点在树中提供了一种"强"连接，确保了从根节点到叶子节点的所有路径上黑色节点的数量是相同的，这是红黑树的一个关键性质。
2. **在树的平衡中的作用**：
    - 红色节点允许临时的不平衡发生，为了插入和删除操作提供更大的灵活性。通过颜色变化和树旋转，红黑树在之后的操作中再调整自己，恢复平衡。
    - 黑色节点的数量（黑高）在每个节点到叶子节点路径上是相同的，这个特性帮助保证了红黑树的平衡性和搜索效率。

# 红黑树的性质

红黑树遵循以下性质，以确保其性能和平衡：

1. 每个节点要么是红色的，要么是黑色的。
2. 树的根节点是黑色的。
3. 所有叶子节点（NIL节点，即空节点）都是黑色的。
4. 如果一个节点是红色的，则它的两个子节点都是黑色的（红色节点不能相邻）。
5. 从任一节点到其每个叶子的所有简单路径都包含相同数目的黑色节点。

[![](https://cdn.nlark.com/yuque/0/2024/png/38953059/1710146733387-dd911fc5-2982-4b51-b31f-9688546c48a5.png)](https://cdn.nlark.com/yuque/0/2024/png/38953059/1710146733387-dd911fc5-2982-4b51-b31f-9688546c48a5.png)

通过这些规则，红黑树确保了从根到叶子的最长的可能路径不会超过最短的可能路径的两倍长，因而接近于平衡状态。这是通过红色节点提供的额外灵活性以及对黑色节点严格数量控制的结果。

# 红黑树添加节点规则

[![](https://cdn.nlark.com/yuque/0/2024/png/38953059/1710146376129-9468e6a5-5e16-46e4-830c-6ead679a5208.png)](https://cdn.nlark.com/yuque/0/2024/png/38953059/1710146376129-9468e6a5-5e16-46e4-830c-6ead679a5208.png)