# 概念

  

![[/Untitled 5.png|Untitled 5.png]]

  

数据库连接池是个容器，负责分配、管理数据库连接(Connection)

- 程序在启动时，会在数据库连接池(容器)中，创建一定数量的Connection对象

允许应用程序重复使用一个现有的数据库连接，而不是再重新建立一个

- 客户端在执行SQL时，先从连接池中获取一个Connection对象，然后在执行SQL语句，SQL语句执行完之后，释放Connection时就会把Connection对象归还给连接池（Connection对象可以复用）

释放空闲时间超过最大空闲时间的连接，来避免因为没有释放连接而引起的数据库连接遗漏

- 客户端获取到Connection对象了，但是Connection对象并没有去访问数据库(处于空闲)，数据库连接池发现Connection对象的空闲时间 > 连接池中预设的最大空闲时间，此时数据库连接池就会自动释放掉这个连接对象

mybatis中，使用了数据库连接池技术，避免频繁的创建连接、销毁连接而带来的资源浪费。

> 没有使用数据库连接池：
> 
> - 客户端执行SQL语句：要先创建一个新的连接对象，然后执行SQL语句，SQL语句执行后又需要关闭连接对象从而释放资源，每次执行SQL时都需要创建连接、销毁链接，这种频繁的重复创建销毁的过程是比较耗费计算机的性能。

# 数据库连接池的好处

1. 资源重用
2. 提升系统响应速度
3. 避免数据库连接遗漏

# JDBC

JDBC（Java Database Connectivity）是一个Java API，它用于Java应用程序和数据库之间的连接。它允许执行SQL语句，从而检索和更新数据库中的数据。JDBC为数据库操作提供了一种标准方法，与特定的数据库实现无关，因此它可以用来连接任何提供了JDBC驱动的数据库。

  

[[JDBC]]

# Duid和Hikari

Druid和HikariCP是两种流行的数据库连接池实现。

- Druid：是阿里巴巴开发的数据库连接池，它提供了强大的监控和扩展功能。Druid支持所有JDBC兼容的数据库，提供了SQL监控、数据库密码加密、连接泄露检测等功能。
- HikariCP：被广泛认为是当前最快的数据库连接池实现，重点放在性能和简洁性上。HikariCP通过减少开销和优化代码路径来提高性能，同时保持配置的简单性。

简而言之，JDBC定义了Java应用如何连接到数据库的标准，而Druid和HikariCP是实现了JDBC接口的数据库连接池，它们通过管理连接池来提高应用程序访问数据库的效率和性能。这两者之间的关系是，JDBC提供连接数据库的基本机制，而连接池如Druid和HikariCP在此基础上提供了更高效的连接管理策略。