# 集合体系结构

![[Untitled 4.png]]

在Java中，集合主要分为以下三种[1][2]：

- List集合：List是有序的（存取顺序），可以有重复的元素，有索引，可以存在多个空值[3]。List的实现类有ArrayList，LinkedList等[2]。
- Set集合：Set是无序的（存取顺序），不能有重复元素，无索引值，只能存在一个空值[3]。Set的实现类有HashSet，LinkedHashSet，TreeSet等[3]。
- Map集合：Map是一种通过键值（key-value）查找的映射表集合[2]。Map的实现类有HashMap，TreeMap和HashTable等[3]。

# 集合中的特性

## 集合 (Set)

- 唯一性: 集合中的元素是唯一的，不允许重复
- 无序性: 集合中的元素没有特定的顺序，无法通过索引访问集合的元素
- 可变性: 集合是可变的，可以添加或删除元素

## 列表 (List)

- 有序性: 列表中的元素按照它们被添加的顺序进行存储，并且可以通过索引访问。
- 可变性: 列表是可变的，以为这可以修改、添加或删除其中的元素
- 异构性: 列表可以包含不同类型的元素
- 重复元素: 列表可以包含重复的元素。允许多个 具有相同值的元素存在于列表中。

# 集合和数组的区别

- 数组和集合都是Java中的容器，但数组的长度是固定的，而集合的长度是可变的[1]。
- 数组可以存储相同数据类型的数据，包括基本数据类型和引用类型。相反，集合可以存储不同数据类型的对象的引用，但不能存储基本数据类型。Java为每种基本数据类型都提供了对应的包装类，例如，int类型对应的包装类是Integer[1]。

# 集合的使用

Java访问集合总是通过统一的方式——迭代器（Iterator）来实现，它最明显的好处在于无需知道集合内部元素是按什么方式存储的[2]。例如，我们可以使用ListIterator的add()方法或使用get()和size()的方法来遍历和修改List集合[4]。

# 集合的特点

- ArrayList：底层数据结构是数组，查询快，增删慢；线程不安全，效率高[4]。
- LinkedList：底层数据结构是链表，查询慢，增删快。线程不安全，效率高[4]。
- HashSet：底层数据结构是哈希表，通过hashcode()和equals()保证元素唯一[3]。
- LinkedHashSet：底层数据结构是链表和哈希表，由链表保证元素有序，由哈希表保证元素唯一[3]。
- TreeSet：底层数据结构是红黑树，通过自然排序和比较器排序保证元素有序，根据比较返回值是否是0来保证元素唯一性[3]。
- HashMap：方法不是同步的，效率比较高，允许null值（key和value都可以）[3]。
- TreeMap：是有序的[3]。
- HashTable：方法是同步的，效率比较低，不允许null值[3]。

# Properties

- Properties类**继承自HashTable类**并且实现了Map接口，也是使用一种键值对的形式来保存数据。
- 使用特点和HashTable类似

# 总结: 开发中如何选择集合实现类

1. 判断存储的类型 (一组对象[单列]或一组键值对[多列])
2. 一组对象[单列]: Collection 接口
3. 允许重复: List
4. 增删多: LinkedList - 底层双向链表
5. 改查多: ArrayList - 底层Object类型的可变数组
6. 不允许重复: Set
7. 无序: HashSet - 底层HashMap 即数组 + 链表 + 红黑树
8. 排序: TreeSet
9. 插入和取出顺序一致: LinkedHashSet - 底层LinkedHashMap 维护数组 + 双向链表
10. 一组键值对[双列]: Map
11. 键无序: HashMap - 底层哈希表 数组 + 链表 + 红黑树
12. 键排序: TreeMap
13. 键插入和取出顺序一致: LinkedHashMap
14. 读取文件: Properties

[[列表 List]]

[[集合 Set]]

[[Map]]

[[常见问题]]