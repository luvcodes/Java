# 第三方bean属性绑定

## @ConfigurationProperties

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1701735045327-717e9e34-979f-4199-afa0-7dc81c21d2a8.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1701735045327-717e9e34-979f-4199-afa0-7dc81c21d2a8.png)

在Spring Boot中，

```Plain
@ConfigurationProperties
```

注解主要用于将配置文件（如application.properties或application.yml）中的属性绑定到Java类上。这个注解提供了一种类型安全的方式来处理配置文件中的属性。

当你使用 `@ConfigurationProperties` 注解时，你可以创建一个具有字段的类，这些字段与配置文件中的属性对应。Spring Boot会自动将配置文件中相应的属性值绑定到这些字段上。

例如：

```Java
import org.springframework.boot.context.properties.ConfigurationProperties;
import org.springframework.stereotype.Component;

@Component
@ConfigurationProperties(prefix = "mail")
public class MailProperties {
    private String hostName;
    private int port;
    private String from;
    // standard getters and setters
}
```

在上述例子中，`MailProperties` 类通过 `@ConfigurationProperties(prefix = "mail")` 注解与配置文件中以 `mail` 作为前缀的属性绑定。所以，如果你的配置文件中有如下属性：

```Plain
mail.hostName=smtp.example.com
mail.port=9000
mail.from=noreply@example.com
```

那么这些属性将自动绑定到 `MailProperties` 类的 `hostName`、`port` 和 `from` 字段上。

这个功能使得管理和使用配置变得更加方便和类型安全。`@ConfigurationProperties` 注解是Spring Boot特有的特性，它主要用于将配置文件（如 `application.properties` 或 `application.yml`）中的属性绑定到Java对象上。这种方式提供了一种类型安全和便捷的方法来管理外部配置。

### 在Spring Framework中应用

- 在传统的Spring Framework（包括Spring MVC）中，`@ConfigurationProperties` 并不是一个常用的注解。在这些环境下，配置通常是通过XML文件或`@Configuration`注解的Java类来完成的。
- Spring MVC作为Spring Framework的一部分，主要聚焦于构建Web应用程序的MVC（模型-视图-控制器）架构。其配置通常涉及控制器、视图解析器、静态资源处理等，而不直接使用`@ConfigurationProperties`。

### 在Spring Boot中应用

- `@ConfigurationProperties` 是为Spring Boot设计的，它允许你以类型安全的方式来配置你的应用程序，这在Spring Boot中是一种常见做法。
- 在Spring Boot应用中，它通常与`@EnableConfigurationProperties`（如果需要的话）一起使用，以便在Spring上下文中启用和管理这些属性类。

## @EnableConfigurationProperties

这个注解可以替代@Component 注解，将使用@ConfigurationProperties注解对应的类加入 Spring 容器

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1701736027434-bae3326c-9e86-4e30-87fc-a1f66c80ff5e.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1701736027434-bae3326c-9e86-4e30-87fc-a1f66c80ff5e.png)