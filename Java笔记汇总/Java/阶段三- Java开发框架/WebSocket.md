# 介绍

WebSocket 是基于 TCP 的一种新的**网络协议**。它实现了浏览器与服务器全双工通信——浏览器和服务器只需要完成一次握手，两者之间就可以创建**持久性**的连接， 并进行**双向**数据传输。

**HTTP协议和WebSocket协议对比：**

- HTTP是**短连接**
- WebSocket是**长连接**
- HTTP通信是**单向**的，基于请求响应模式
- WebSocket支持**双向**通信
- HTTP和WebSocket底层都是TCP连接

WebSocket是一种网络通信协议，它使得数据可以从客户端发送到服务器，并且可以从服务器推送到客户端，这与传统的HTTP请求（通常是请求/响应模式，客户端请求后服务器响应）相比，WebSocket提供了更实时、更高效的数据交换方式。

WebSocket设计用来取代多次HTTP请求-响应模式，从而减少通信过程中的开销和延迟，特别是在需要实时数据更新的应用中，如在线游戏、股票交易平台、即时通讯工具等。

WebSocket通信流程大致如下：

1. **握手**：通信双方（通常是客户端和服务器）首先通过HTTP协议发起一个握手请求。如果服务器支持WebSocket协议，它会返回一个握手响应，从而升级连接从HTTP到WebSocket协议。这个过程只发生一次，建立了WebSocket连接后，双方就可以在这个单一的连接上自由交换数据。
2. **数据传输**：一旦握手成功，WebSocket连接就建立了，客户端和服务器可以通过这个连接双向传输数据。与HTTP不同，WebSocket允许服务器主动推送数据到客户端。
3. **保持连接**：WebSocket连接会保持活跃状态，直到客户端或服务器决定关闭连接。在连接打开期间，可以进行无限次的数据交换。

WebSocket的关键优势包括：

- **实时性**：因为服务器可以主动向客户端推送数据，所以WebSocket非常适合需要实时信息更新的应用。
- **减少开销**：WebSocket在建立连接后可以不断重用，避免了每次交换数据都需要建立HTTP连接的开销。
- **全双工通信**：WebSocket支持数据几乎同时在两个方向上流动，使得交互更加快速和流畅。

WebSocket在现代网络应用中扮演着重要角色，特别是那些对实时性要求较高的场景。

# **缺点**

服务器长期维护长连接需要一定的成本各个浏览器支持程度不一WebSocket 是长连接，受网络限制比较大，需要处理好重连

**结论：**WebSocket并不能完全取代HTTP，它只适合在特定的场景下使用。