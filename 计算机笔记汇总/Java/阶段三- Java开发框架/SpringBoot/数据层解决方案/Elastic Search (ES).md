# 概念

倒排索引仍然是一种索引，但它的“逆向”之处在于它的索引方式与传统的索引方式正好相反。

### 传统的正向索引

- **正向索引**类似于书籍的目录：每个章节或条目都列出了它所在的页面。在数据世界中，这类似于将每个文档（或数据项）与它包含的关键字关联起来。
- 例如，如果有一个文档叫“文档1”，它包含“Java”和“编程”两个关键字，那么正向索引看起来可能是这样的：
- 文档1: [Java, 编程]

在这种情况下，如果你想找所有提到“Java”的文档，你必须查看每个文档，看看它是否包含“Java”。

### 倒排索引

- **倒排索引**的方式则是相反的：它将每个关键字与包含该关键字的所有文档关联起来。
- 例如，如果“文档1”和“文档2”都包含单词“Java”，倒排索引看起来可能是这样的：
- Java: [文档1, 文档2]

在这个例子中，如果你想找到所有提到“Java”的文档，你只需要查看“Java”的索引项，就可以立即知道所有包含这个词的文档。

### “逆向”之处

- “逆向”指的是这种索引结构与我们传统理解的索引方向相反。**它不是从文档出发去寻找关键词，而是从关键词出发去寻找文档。**
- 这种结构使得在搜索时，能够直接找到包含特定关键词的所有文档，大大加快了搜索的速度，尤其是在处理大量数据时。

因此，“逆向”在这里是指索引的创建和使用方式，它是针对快速检索（尤其是全文搜索）的需求而设计的。

倒排索引的关键区别在于它索引的是词项（字符串），而不是直接在文档上。这种方法对于全文搜索尤其有效。让我们对比一下两种索引方式：

### 结论

是的，倒排索引的核心在于它是以词项为基础，而不是文档。这就是为什么它特别适合用于处理全文搜索，因为它能迅速定位到包含特定词项的所有文档。

# 文档处理

# 创建文档

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443792119-a98d19cc-1d6d-48ab-858c-1c422c9c7d72.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443792119-a98d19cc-1d6d-48ab-858c-1c422c9c7d72.png)

# 查询文档

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443891562-ca694cbb-d41d-44da-9466-80f0e0d891b4.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443891562-ca694cbb-d41d-44da-9466-80f0e0d891b4.png)

### 条件查询

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443906801-0d450f70-74a0-4d33-b9bc-9131f4e58867.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443906801-0d450f70-74a0-4d33-b9bc-9131f4e58867.png)

# 删除文档

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443923190-2659f561-d297-48cd-bc24-c9554cd4b58c.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443923190-2659f561-d297-48cd-bc24-c9554cd4b58c.png)

# 修改文档

### 全量修改

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443988041-971fa475-ef42-4c77-b5c8-af478337c446.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702443988041-971fa475-ef42-4c77-b5c8-af478337c446.png)

### 部分修改

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702444028164-27630c0a-5c4a-421e-9444-484b2e2240d3.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702444028164-27630c0a-5c4a-421e-9444-484b2e2240d3.png)

这个意思就是说针对1这个id所指定的文档的指定属性进行修改