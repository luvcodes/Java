# SQL

# 数据源配置

SpringBoot提供了3种内嵌的数据源对象供开发者选择

- HikariCP。如果不提供数据源，那么就默认选择了这个。
- Tomcat提供DataSource: HikariCP不可用的情况下，且在web环境中，将使用tomcat服务器配置的数据源对象。
- Commons DBCP: HikariCP不可用，tomcat数据源也不可用，将使用dbcp数据源。

通用配置无法设置具体的数据源配置信息，仅提供基本的连接相关配置，如需配置，在下一级配置中设置具体设定。

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702100212998-1b328164-441c-4f8f-a7d4-98d6108e346c.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702100212998-1b328164-441c-4f8f-a7d4-98d6108e346c.png)

# 内置持久化解决方案 - JdbcTemplate

导入坐标

```XML
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-jdbc</artifactId>
</dependency>
```

定义测试类:

```Java
@Test
void testJdbcTemplate() {
    String sql = "select * from tbl_book where id = 1";
    // String sql = "select * from tbl_book"; // 另一种示例sql语句

    // List<Map<String, Object>> maps = jdbcTemplate.queryForList(sql); // 这不是标准格式
    // System.out.pringln(maps);

    RowMapper<Book> rm = new RowMapper<Book>() {
        @Override
        public Book mapRow(ResultSet resultSet, int i) throws SQLException {
            Book temp = new Book();
            temp.setId(resultSet.getInt("id"));
            temp.setName(resultSet.getString("name"));
            temp.setType(resultSet.getString("type"));
            temp.setDescription(resultSet.getString("description"));
            return temp;
        }
    };
    List<Book> list = jdbcTemplate.query(sql, rm);
    System.out.println(list);
}
```

# 内嵌数据库

3种内嵌数据库

- H2
- HSQL
- Derby

# 数据层解决方案

[![](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702103888840-635bf8fe-f560-4ae1-a4d0-a367463df0ba.png)](https://cdn.nlark.com/yuque/0/2023/png/38953059/1702103888840-635bf8fe-f560-4ae1-a4d0-a367463df0ba.png)

H2数据库不适合项目上线

# NoSQL

# Redis

# MongoDB

  

[[Java/阶段三- Java开发框架/SpringBoot/数据层解决方案/Redis|Redis]]

[[MongoDB]]

[[Elastic Search (ES)]]

[[缓存]]