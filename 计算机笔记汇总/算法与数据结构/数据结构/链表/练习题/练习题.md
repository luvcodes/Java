# 链表插入操作顺序

![[/Untitled 35.png|Untitled 35.png]]

在双向循环链表中，插入一个节点需要更新四个指针：待插入节点（假设为`s`）的左右指针，以及`s`左右两侧节点的指针。假设当前节点为`p`，我们需要将`s`插入到`p`的后面。这需要进行以下步骤：

1. 设置`s`的`left`指针指向`p`。
2. 设置`s`的`right`指针指向`p`的原先的`right`指向的节点。
3. 更新`p`的原先`right`指向的节点的`left`指针，使其指向`s`。
4. 设置`p`的`right`指针指向`s`。

因此，正确的操作顺序应该是：

- `s->left=p;`（步骤1）
- `s->right=p->right;`（步骤2）
- `p->right->left=s;`（步骤3）
- `p->right=s;`（步骤4）

# 广义表

![[/Untitled 1 14.png|Untitled 1 14.png]]

广义表（Generalized List）是一种数据结构，它是线性表的推广。在普通的线性表中，每个元素都是基本的数据项，而在广义表中，每个元素可以是一个单独的原子（即基本的数据项，如整数、字符等），也可以是另一个广义表。这种结构允许数据以非常灵活的层次结构来表示，类似于树或图。

广义表的结构可以用递归的方式定义：它是空的，或者包含一个头元素和一个尾表。头元素是广义表的第一个元素，可以是原子，也可以是另一个广义表。尾表是广义表中除了第一个元素之外的剩余部分，本身也是一个广义表。

## 如何判断是第一个元素还是其他元素的

1. **Head（头元素）**：在广义表 `L = (a1, a2, ..., an)` 中，`Head(L)` 是指表中的第一个元素 `a1`。这个元素可以是一个原子，也可以是一个广义表。
2. **Tail（尾表）**：`Tail(L)` 是指除了头元素之外的剩余部分 `(a2, ..., an)`。这个尾表本身也是一个广义表，它可以是空的，可以包含一个或多个元素。
3. **空广义表**：如果一个广义表不包含任何元素，它就是一个空的广义表，表示为 `( )`。

例如，在广义表 `L = (a, (b, c), d)` 中，`Head(L)` 是 `a`，而 `Tail(L)` 是 `((b, c), d)`。头元素是 `a`，一个原子，而尾表是包含广义表 `(b, c)` 和原子 `d` 的广义表。

在广义表中，头元素（Head）是列表中的第一个元素，而尾表（Tail）是除了头元素之外的所有元素构成的列表。对于你提供的两个例子，我们可以这样判断头元素和尾表：

### 例子 A: `( )`

这个广义表是一个空的广义表。它既没有头元素（因为它是空的），也没有尾表。

### 例子 D: `（ ），（ ），（ ）`

这个广义表的格式有一些不规范，但假设它意图表示一个包含三个空广义表元素的广义表，我们可以用正确的格式重新书写它：`(( ), ( ), ( ))`。在这种情况下：

- **头元素（Head）**：第一个元素是一个空的广义表，表示为 `( )`。
- **尾表（Tail）**：尾表是广义表中除了头元素之外的部分，这里是 `(( ), ( ))`，包含两个空的广义表元素。

在处理广义表时，非常重要的一点是正确理解广义表的结构和元素。每个元素可以是一个原子（基本数据类型的值），也可以是另一个广义表。尾表总是除了第一个元素之外的其余部分，本身也是一个广义表。